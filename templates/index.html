<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
    <title>Pathage - Online TSP Solver</title>
</head>

<body>
<h1 class="title">Pathage - An Online Library of TSP Solvers</h1>
<div class="container">
    <div class="box">
        <h1>Choose input type</h1>
        <select id="inputTypeSelect" onchange="changeInputTypeDisplay()">
            <option value="">--Input Type--</option>
            <option value="inputTypeFile">File Input</option>
            <option value="inputTypeText">Text Input</option>
        </select>
        <div id="inputTypeFileDisplay" style="display:none">
            <h2>Please input coordinates file (.csv)</h2>
            <p>The coordinates file should follow the following format:<br>
                x,y<br>
                x1,y1<br>
                x2,y2<br>
                x3,y3<br>
                ...<br>
                xn,yn<br>
            </p>
            <form>
                <input onchange="onFileSelected()" id='fileInput' type="file" name="file" accept=".csv">
            </form>
        </div>
        <div id="inputTypeTextDisplay" style="display:none">
            <h2>Please type coordinates in text input.</h2>
            <p>The input coordinates should be in comma separated value format:<br>
                x1,y1,x2,y2,x3,y3,...,xn,yn<br><br>
                Only parentheses () comma , period . and numbers are allowed.
            </p>
            <form>
                <input oninput="onTextTyped()" id='textInput' type="text" onkeydown="preventEnterKey(event)">
            </form>
        </div>
        
    </div>
    <div class="box" id="fileContentDisplay">
        <h1>Input coordinates</h1>
        The input coordinates will be displayed here...
    </div>  
</div>
<div class="container">
    <div class="box">
        <!-- TODO: input coordinate by user interaction -->
        <h1>Input coordinates visualization</h1>
        <div id="coordinatesPlotDisplay"></div>
    </div>
    <div class="box">
        <h1>Inference model configuration</h1>
        <p>Choose the model you want to use for inference</p>
        <select id="modelSelect" onchange="sendOption(this.value)">
            <option value="">--Select Model--</option>
        </select>
        <div id="modelDisplay">
            <div id="modelDisplayName"><b>- Model Name: </b></div>
            <div id="modelDisplayDesc"><b>- Model Description: </b></div>
            <div id="modelDisplayConfigs"><b>- Model configurations: </b><br></div>
        </div>
        <div id="configContainer"></div>
        <button id="inferenceBtn" onclick="inference()">Inference</button>
        <div class="tooltip">
            <i class="fas fa-question-circle"></i>
            <span class="tooltiptext">Can't press the button?
                <br>1. Check if you provided appropriate coordinates.
                <br>2. Check if you selected the inference model.
                <br>3. Check if the length of the provided coordinates are larger <br>than the length that the model requires.</span>
        </div>
    </div>
</div>
<div class="container">
    <div class="box">
        <h1>Result tour coordinates</h1>
        <div id="resultTourDisplay">The resulting tour from the model will be shown here.</div>
    </div>
    <div class="box">
        <h1>Result tour visualization</h2>
        <div id="resultTourPlotDisplay"></div>
    </div>  

</div>
<div id="overlay">
    <div class="loader"></div>
</div>
</body>

<footer>
    <p>
        <b>Contact </b>
        <a href="https://github.com/cm8908/Pathage">GitHub</a> / 
        Email: jungminseob2@gmail.com
    </p>
</footer>
</html>
